<?python
title = '%s Manual'%app
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xml:lang="en"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:py="http://genshi.edgewall.org/"
>
    <xi:include href="layout.html" />
      

    <head>
        <title>${title}</title>
        <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript" />
        <link rel="stylesheet" href="http://dev.jquery.com/view/trunk/plugins/treeview/jquery.treeview.css" type="text/css" />
        <script type="text/javascript" src="http://dev.jquery.com/view/trunk/plugins/treeview/jquery.treeview.js" />
        <style type="text/css">
            #browser {
                font-family: monospace;
            }
            a { color: black; }
            a:visited { color: black; }
            .toplevel {
                font-weight: bold;
            }
            .nottoplevel {
                font-weight: normal;
            }
        </style>
        <script type="text/javascript">
            $(document).ready(function(){
                $("#browser").treeview({collapsed:true});
            });
        </script>
        
    </head>
    <body>
        <ul id="browser" class="filetree">
        <py:for each="section in toc">
            <li py:with="cl='toplevel %s'%('folder' if section['subsections'] else 'file')"
                class="${cl}">
                <a target="content" href="${section['href']}">${section['title']}</a>
            <py:if test="section['subsections']">
                <ul>
                <py:for each="ss in section['subsections']">
                    <li class="nottoplevel file">
                        <a target="content" href="${ss['href']}">${ss['title']}</a>
                    </li>
                </py:for>
                </ul>
            </py:if>
            </li>
        </py:for>
        </ul>

    </body>
</html>